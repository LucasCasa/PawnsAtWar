<!-- <h2 class="success" style="text-align: center">${success}</h2> -->
<h1>{{'MESSAGE_RECEIVED' | translate}}</h1>
<br>
<br>
<h1>{{'MESSAGE_UNREAD' | translate}}</h1>
<div class="row">
  <h2 style="text-align: center" ng-show="messages.unread.length == 0">{{'NO_MESSAGES' | translate}}</h2>
</div>
<table class="table table-hover" ng-show="messages.unread.length > 0">
  <thead>
  <td>{{'USERNAME' | translate}}</td>
  <td>{{'SUBJECT' | translate}}</td>
  <td>{{'ACTION' | translate}}</td>
  </thead>
  <tbody>
  <tr ng-repeat-start="message in messages.unread"  class="clickable">
    <td ng-click="messageDetails(message.id)">{{message.from}}</td>
    <td ng-click="messageDetails(message.id)">{{message.subject}}</td>
    <td>
      <div>
      <input type="hidden" name="id" ng-value="message.id"/>
        <button class="myButton" ng-click="answer(message.id, message.from, message.subject)">
          {{'ANSWER' | translate}}
        </button>
        <button class="myButton" ng-click="deleteMessage(message.id)">
        {{'DELETE' | translate}}
        </button>

      </div>
    </td>
  </tr>
  <tr ng-repeat-end ng-show="activePosition == {{message.id}}" ng-click="">
    <td colspan="3" style=" color: #333;background-color: #fff;">Message: {{message.message}}</td>
  </tr>
  </tbody>
</table>

<h1>{{'READ_MESSAGE' | translate}}</h1>
<div class="row">
  <h2 style="text-align: center" ng-show="messages.read.length == 0">{{'NO_MESSAGES' | translate}}</h2>
</div>
<table class="table table-hover" ng-show="messages.read.length > 0">
  <thead>
  <td>{{'USERNAME' | translate}}</td>
  <td>{{'SUBJECT' | translate}}</td>
  <td>{{'ACTION' | translate }}</td>
  </thead>
  <tbody>
  <tr ng-repeat-start="message in messages.read" class="clickable-row">
    <td ng-click="messageDetails(message.id)">{{message.from}}</td>
    <td ng-click="messageDetails(message.id)">{{message.subject}}</td>
    <td>
      <div>
        <input type="hidden" name="id" ng-value="message.id"/>
        <button class="myButton" ng-click="answer(message.id, message.from, message.subject)">
          {{'ANSWER' | translate}}
        </button>
        <button class="myButton" ng-click="deleteMessage(message.id)">
          {{'DELETE' | translate}}
        </button>

      </div>
    </td>

  </tr>
  <tr ng-repeat-end ng-show="activePosition == {{message.id}}" ng-click="">
    <td colspan="3" style=" color: #333;background-color: #fff;">Mensaje: {{message.message}}</td>

  </tr>
  </tbody>
</table>

<h1>{{'CREATE_MESSAGE' | translate}}</h1>
<div>
  <div class="form-group">
    <label>{{'USERNAME' | translate}}</label>
    <br>
    <input type="to" class="form-control" ng-model="giveTo" id="list" name="username" placeholder="{{'MAIL_PLACEHOLDER' | translate}}">
    <span class="error" ng-show="noUserError">{{'NO_USER' | translate}}</span>
  </div>
  <div class="form-group">
    <label>{{'SUBJECT' | translate}}</label>
    <input type="subject" class="form-control"  ng-model="giveSubject" maxlength="50" name="subject" aria-describedby="subjectHelp"
           placeholder="{{'SUBJECT' | translate}}">
    <span class="error" ng-show="noSubjectError">{{'NO_SUBJECT' | translate}}</span>
  </div>
  <div class="form-group">
    <label>{{'MESSAGE' | translate}}</label>
    <textarea type="message" class="form-control" ng-model="giveMessage" name="message" id="message" ng-keyup="reduceCounter(1024, giveMessage.length)"  id="exampleTextarea"
              rows="3" maxlength="1024"></textarea>
    <label>{{'CHARACTER_REMAINING' | translate}}</label>
    <input disabled style="background: white" maxlength="3" size="3" value="1024" id="counter">
    <span class="error" ng-show="noMessageError">{{'NO_MESSAGE' | translate}}</span>
  </div>
  <button type="submit" ng-click="createMessage()" class="myButton">
    {{'SEND_MESSAGE' | translate}}
  </button><span><h2 class="error" ng-show="errorMessage != undefined">{{errorMessage | translate}}</h2></span>
</div>



